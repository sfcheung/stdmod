<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Quick Start Guide on Using std_selected() • stdmod</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A Quick Start Guide on Using std_selected()">
<meta property="og:description" content="stdmod">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stdmod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.7.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/stdmod.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/moderation.html">Standardized Moderation Effect by std_selected()</a>
    </li>
    <li>
      <a href="../articles/std_selected.html">Mean Center and Standardize Selected Variable by std_selected()</a>
    </li>
    <li>
      <a href="../articles/plotmod.html">Moderation Effects Plots by plotmod()</a>
    </li>
    <li>
      <a href="../articles/cond_effect.html">Conditional Effects by cond_effect()</a>
    </li>
    <li>
      <a href="../articles/stdmod_lavaan.html">Standardized Moderation Effect in a Path Model by stdmod_lavaan()</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sfcheung/stdmod/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="stdmod_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A Quick Start Guide on Using std_selected()</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung</h4>
            
            <h4 data-toc-skip class="date">2022-05-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/stdmod/blob/HEAD/vignettes/stdmod.Rmd" class="external-link"><code>vignettes/stdmod.Rmd</code></a></small>
      <div class="hidden name"><code>stdmod.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="this-guide-shows-to-use-std_selected-to">This Guide Shows to use <code>std_selected()</code> to:<a class="anchor" aria-label="anchor" href="#this-guide-shows-to-use-std_selected-to"></a>
</h2>
<ul>
<li><p>get the correct standardized regression coefficients of a moderated regression model, and</p></li>
<li><p>form the valid confidence intervals of the standardized regression coefficients using nonparametric bootstrapping that takes into account the sampling variation due to standardization.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="sample-dataset">Sample Dataset<a class="anchor" aria-label="anchor" href="#sample-dataset"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/stdmod/">stdmod</a></span><span class="op">)</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">sleep_emo_con</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;   case_id sleep_duration conscientiousness emotional_stability age gender</span>
<span class="co">#&gt; 1       1              6               3.6                 3.6  20 female</span>
<span class="co">#&gt; 2       2              4               3.8                 2.4  20 female</span>
<span class="co">#&gt; 3       3              7               4.3                 2.7  20 female</span></code></pre></div>
<p>This dataset has 500 cases, with sleep duration (measured in average hours), conscientiousness, emotional stability, age, and gender (a <code>"female"</code> and <code>"male"</code>).</p>
<p>The names of some variables are shortened for readability:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sleep"</span>, <span class="st">"cons"</span>, <span class="st">"emot"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;   case_id sleep cons emot age gender</span>
<span class="co">#&gt; 1       1     6  3.6  3.6  20 female</span>
<span class="co">#&gt; 2       2     4  3.8  2.4  20 female</span>
<span class="co">#&gt; 3       3     7  4.3  2.7  20 female</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="model">Model<a class="anchor" aria-label="anchor" href="#model"></a>
</h2>
<p>Suppose this is the moderated regression model:</p>
<ul>
<li><p>Dependent variable (Outcome Variable): sleep duration (<code>sleep</code>)</p></li>
<li><p>Independent variable (Predictor / Focal Variable): emotional stability (<code>emot</code>)</p></li>
<li><p>Moderator: conscientiousness (<code>cons</code>)</p></li>
<li><p>Control variables: <code>age</code> and <code>gender</code></p></li>
</ul>
<p><code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> can be used to fit this model:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">sleep</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">emot</span> <span class="op">*</span> <span class="va">cons</span>,
             dat <span class="op">=</span> <span class="va">dat</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_out</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep ~ age + gender + emot * cons, data = dat)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)  1.85154    1.35224   1.369  0.17155   </span>
<span class="co">#&gt; age          0.01789    0.02133   0.838  0.40221   </span>
<span class="co">#&gt; gendermale  -0.26127    0.16579  -1.576  0.11570   </span>
<span class="co">#&gt; emot         1.32151    0.45039   2.934  0.00350 **</span>
<span class="co">#&gt; cons         1.20385    0.37062   3.248  0.00124 **</span>
<span class="co">#&gt; emot:cons   -0.33140    0.13273  -2.497  0.01286 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span></code></pre></div>
<p>The unstandardized moderation effect is significant, B = -0.3314. For each one unit increase of conscientiousness score, the effect of emotional stability decreases by 0.3314.</p>
</div>
<div class="section level2">
<h2 id="correct-standardization-for-the-moderated-regression">Correct Standardization For the Moderated Regression<a class="anchor" aria-label="anchor" href="#correct-standardization-for-the-moderated-regression"></a>
</h2>
<p>Suppose we want to find the correct standardized solution for the moderated regression, that is, all variables except for categorical variables are standardized. In a moderated regression model, the product term should be formed <em>after</em> standardization.</p>
<p>Instead of doing the standardization ourselves before calling <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>, we can pass the <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> output to <code><a href="../reference/std_selected.html">std_selected()</a></code>, and use <code>~ .</code> for the arguments <code>to_scale</code> and <code>to_center</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_stdall</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_out</span>,
                          to_scale <span class="op">=</span> <span class="op">~</span> <span class="va">.</span>,
                          to_center <span class="op">=</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_stdall</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered by mean and/or scaled by SD</span>
<span class="co">#&gt; - Variable(s) centered: sleep age gender emot cons</span>
<span class="co">#&gt; - Variable(s) scaled: sleep age gender emot cons</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;        centered_by scaled_by                            Note</span>
<span class="co">#&gt; sleep     6.776333 1.4168291 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; age      22.274000 2.9407857 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; gender          NA        NA Nonnumeric                     </span>
<span class="co">#&gt; emot      2.713200 0.7629613 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; cons      3.343200 0.6068198 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Categorical variables will not be centered or scaled even if requested.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep ~ age + gender + emot * cons, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -4.2941 -0.5563  0.0063  0.6663  4.3187 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)  0.05492    0.04883   1.125  0.26124   </span>
<span class="co">#&gt; age          0.03712    0.04428   0.838  0.40221   </span>
<span class="co">#&gt; gendermale  -0.18440    0.11702  -1.576  0.11570   </span>
<span class="co">#&gt; emot         0.11501    0.04493   2.560  0.01076 * </span>
<span class="co">#&gt; cons         0.13050    0.04517   2.889  0.00403 **</span>
<span class="co">#&gt; emot:cons   -0.10829    0.04337  -2.497  0.01286 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.9771 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Estimates and their statistics are based on the data after mean-centering, scaling, or standardization.</span></code></pre></div>
<p>In this example, the coefficient of the product term, which naturally can be called the<br><strong>standardized moderation effect</strong>, is significant, B = -0.1083. For each one <em>standard deviation</em> increase of conscientiousness score, the <strong>standardized effect</strong> of emotional stability decreases by 0.1083.</p>
<div class="section level3">
<h3 id="the-arguments">The Arguments<a class="anchor" aria-label="anchor" href="#the-arguments"></a>
</h3>
<p>Standardization is equivalent to centering by mean and then scaling by (dividing by) standard deviation.<br>
The argument <code>to_center</code> specifies the variables to be centered by their means, and the argument <code>to_scale</code> specifies the variables to be scaled by their standard deviations. The formula interface of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> is used in these two arguments, with the variables on the right hand side being the variables to be centered and/or scaled.</p>
<p>The “<code>.</code>” on the right hand side represents all variables in the model, including the outcome variable (sleep duration in this example).</p>
<p><code><a href="../reference/std_selected.html">std_selected()</a></code> will also skip categorical variables automatically skipped because standardizing them will make their coefficients not easy to interpret.</p>
</div>
<div class="section level3">
<h3 id="advantage">Advantage<a class="anchor" aria-label="anchor" href="#advantage"></a>
</h3>
<p>Using <code>std_selected</code> minimizes impact on the workflow. Do regression as usual. Get the correct standardized coefficients only when we need to interpret them.</p>
</div>
<div class="section level3">
<h3 id="nonparametric-bootstrap-confidence-intervals">Nonparametric Bootstrap Confidence Intervals<a class="anchor" aria-label="anchor" href="#nonparametric-bootstrap-confidence-intervals"></a>
</h3>
<p>There is one problem with standardized coefficients. The confidence intervals based on ordinary least squares (OLS) fitted to the standardized variables do not take into account the sampling variation of the sample means and standard deviations (Yuan &amp; Chan, 2011). Cheung, Cheung, Lau, Hui, and Vong (2022) suggest using nonparametric bootstrapping, with standardization conducted in each bootstrap sample.</p>
<p>This can be done by <code><a href="../reference/std_selected.html">std_selected_boot()</a></code>, a wrapper of <code><a href="../reference/std_selected.html">std_selected()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">870432</span><span class="op">)</span>
<span class="va">lm_stdall_boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected_boot</a></span><span class="op">(</span><span class="va">lm_out</span>,
                        to_scale <span class="op">=</span> <span class="op">~</span> <span class="va">.</span>,
                        to_center <span class="op">=</span> <span class="op">~</span> <span class="va">.</span>,
                        nboot <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></code></pre></div>
<p>The minimum additional argument is <code>nboot</code>, the number of bootstrap samples.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_stdall_boot</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered by mean and/or scaled by SD</span>
<span class="co">#&gt; - Variable(s) centered: sleep age gender emot cons</span>
<span class="co">#&gt; - Variable(s) scaled: sleep age gender emot cons</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;        centered_by scaled_by                            Note</span>
<span class="co">#&gt; sleep     6.776333 1.4168291 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; age      22.274000 2.9407857 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; gender          NA        NA Nonnumeric                     </span>
<span class="co">#&gt; emot      2.713200 0.7629613 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; cons      3.343200 0.6068198 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Categorical variables will not be centered or scaled even if requested.</span>
<span class="co">#&gt; - Nonparametric bootstrapping 95% confidence intervals computed.</span>
<span class="co">#&gt; - The number of bootstrap samples is 5000.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep ~ age + gender + emot * cons, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -4.2941 -0.5563  0.0063  0.6663  4.3187 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate  CI Lower  CI Upper Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)  0.054919  0.007176  0.104459   0.048827   1.125  0.26124   </span>
<span class="co">#&gt; age          0.037125 -0.034742  0.107166   0.044280   0.838  0.40221   </span>
<span class="co">#&gt; gendermale  -0.184402 -0.439171  0.078317   0.117016  -1.576  0.11570   </span>
<span class="co">#&gt; emot         0.115014  0.029085  0.201193   0.044927   2.560  0.01076 * </span>
<span class="co">#&gt; cons         0.130502  0.028767  0.226530   0.045167   2.889  0.00403 **</span>
<span class="co">#&gt; emot:cons   -0.108292 -0.204263 -0.008952   0.043374  -2.497  0.01286 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.9771 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Estimates and their statistics are based on the data after mean-centering, scaling, or standardization.</span>
<span class="co">#&gt; - [CI Lower, CI Upper] are bootstrap percentile confidence intervals.</span>
<span class="co">#&gt; - Std. Error are not bootstrap SEs.</span></code></pre></div>
<p>The output is similar to that of <code><a href="../reference/std_selected.html">std_selected()</a></code>, with additional information on the bootstrapping process.</p>
<p>The 95% bootstrap percentile confidence interval of the standardized moderation effect is -0.2043 to -0.0090.</p>
</div>
</div>
<div class="section level2">
<h2 id="standardize-independent-variable-focal-variable-and-moderator">Standardize Independent Variable (Focal Variable) and Moderator<a class="anchor" aria-label="anchor" href="#standardize-independent-variable-focal-variable-and-moderator"></a>
</h2>
<p><code><a href="../reference/std_selected.html">std_selected()</a></code> and <code><a href="../reference/std_selected.html">std_selected_boot()</a></code> can also be used to standardize only selected variables. There are cases in which we do not want to standardize some continuous variables because they are measured on interpretable units, such as hours.</p>
<p>Suppose we want to standardize only emotional stability and conscientiousness, and do not standardize sleep duration. We just list <code>emot</code> and <code>cons</code> on <code>to_center</code> and <code>to_scale</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_std1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_out</span>,
                        to_scale <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span>,
                        to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_std1</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered by mean and/or scaled by SD</span>
<span class="co">#&gt; - Variable(s) centered: emot cons</span>
<span class="co">#&gt; - Variable(s) scaled: emot cons</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;        centered_by scaled_by                            Note</span>
<span class="co">#&gt; sleep       0.0000 1.0000000                                </span>
<span class="co">#&gt; age         0.0000 1.0000000                                </span>
<span class="co">#&gt; gender          NA        NA Nonnumeric                     </span>
<span class="co">#&gt; emot        2.7132 0.7629613 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; cons        3.3432 0.6068198 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Categorical variables will not be centered or scaled even if requested.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep ~ age + gender + emot * cons, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)  6.45575    0.47828  13.498  &lt; 2e-16 ***</span>
<span class="co">#&gt; age          0.01789    0.02133   0.838  0.40221    </span>
<span class="co">#&gt; gendermale  -0.26127    0.16579  -1.576  0.11570    </span>
<span class="co">#&gt; emot         0.16295    0.06365   2.560  0.01076 *  </span>
<span class="co">#&gt; cons         0.18490    0.06399   2.889  0.00403 ** </span>
<span class="co">#&gt; emot:cons   -0.15343    0.06145  -2.497  0.01286 *  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Estimates and their statistics are based on the data after mean-centering, scaling, or standardization.</span></code></pre></div>
<p>The <em>partially</em> standardized moderation effect is -0.1534. For each one <em>standard deviation</em> increase of conscientiousness score, the <em>partially</em> standardized effect of emotional stability decreases by 0.1534.</p>
<div class="section level3">
<h3 id="nonparametric-bootstrap-confidence-intervals-1">Nonparametric Bootstrap Confidence Intervals<a class="anchor" aria-label="anchor" href="#nonparametric-bootstrap-confidence-intervals-1"></a>
</h3>
<p>The function <code><a href="../reference/std_selected.html">std_selected_boot()</a></code> can also be used to form the nonparametric bootstrap confidence interval when only some of the variables are standardized:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">870432</span><span class="op">)</span>
<span class="va">lm_std1_boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected_boot</a></span><span class="op">(</span><span class="va">lm_out</span>,
                        to_scale <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span>,
                        to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span>,
                        nboot <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></code></pre></div>
<p>Again, the only additional argument is <code>nboot</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_std1_boot</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered by mean and/or scaled by SD</span>
<span class="co">#&gt; - Variable(s) centered: emot cons</span>
<span class="co">#&gt; - Variable(s) scaled: emot cons</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;        centered_by scaled_by                            Note</span>
<span class="co">#&gt; sleep       0.0000 1.0000000                                </span>
<span class="co">#&gt; age         0.0000 1.0000000                                </span>
<span class="co">#&gt; gender          NA        NA Nonnumeric                     </span>
<span class="co">#&gt; emot        2.7132 0.7629613 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; cons        3.3432 0.6068198 Standardized (mean = 0, SD = 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Categorical variables will not be centered or scaled even if requested.</span>
<span class="co">#&gt; - Nonparametric bootstrapping 95% confidence intervals computed.</span>
<span class="co">#&gt; - The number of bootstrap samples is 5000.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep ~ age + gender + emot * cons, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate CI Lower CI Upper Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)  6.45575  5.64871  7.27347    0.47828  13.498  &lt; 2e-16 ***</span>
<span class="co">#&gt; age          0.01789 -0.01839  0.05436    0.02133   0.838  0.40221    </span>
<span class="co">#&gt; gendermale  -0.26127 -0.62328  0.11048    0.16579  -1.576  0.11570    </span>
<span class="co">#&gt; emot         0.16295  0.04049  0.28927    0.06365   2.560  0.01076 *  </span>
<span class="co">#&gt; cons         0.18490  0.04153  0.32293    0.06399   2.889  0.00403 ** </span>
<span class="co">#&gt; emot:cons   -0.15343 -0.29147 -0.01238    0.06145  -2.497  0.01286 *  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; - Estimates and their statistics are based on the data after mean-centering, scaling, or standardization.</span>
<span class="co">#&gt; - [CI Lower, CI Upper] are bootstrap percentile confidence intervals.</span>
<span class="co">#&gt; - Std. Error are not bootstrap SEs.</span></code></pre></div>
<p>The 95% bootstrap percentile confidence interval of the partially standardized moderation effect is -0.2915 to -0.0124.</p>
</div>
</div>
<div class="section level2">
<h2 id="further-information">Further Information<a class="anchor" aria-label="anchor" href="#further-information"></a>
</h2>
<p>A more detailed illustration can be found at <code><a href="../articles/moderation.html">vignette("moderation")</a></code>.</p>
<p><code><a href="../articles/std_selected.html">vignette("std_selected")</a></code> illustrates how <code><a href="../reference/std_selected.html">std_selected()</a></code> can be used to form nonparametric bootstrap percentile confidence interval for standardized regression coefficients (“betas”) for regression models without a product term.</p>
<p>Further information on the functions can be found in their help pages (<code><a href="../reference/std_selected.html">std_selected()</a></code> and <code><a href="../reference/std_selected.html">std_selected_boot()</a></code>). For example, parallel computation can be used when doing bootstrapping, if the number of bootstrapping samples request is large.</p>
</div>
<div class="section level2">
<h2 id="references">Reference(s)<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N. (2022) Improving an old way to measure moderation effect in standardized units. Advance online publication. <em>Health Psychology</em>. <a href="https://doi.org/10.1037/hea0001188" class="external-link uri">https://doi.org/10.1037/hea0001188</a>.</p>
<p>Yuan, K.-H., &amp; Chan, W. (2011). Biases and standard errors of standardized regression coefficients. <em>Psychometrika, 76</em>(4), 670-690. <a href="https://doi.org/10.1007/s11336-011-9224-6" class="external-link uri">https://doi.org/10.1007/s11336-011-9224-6</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
