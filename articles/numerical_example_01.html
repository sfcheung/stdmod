<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Numerical Example - stdmod_selected • stdmod</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Numerical Example - stdmod_selected">
<meta property="og:description" content="stdmod">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stdmod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/numerical_example_01.html">Numerical Example - stdmod_selected</a>
    </li>
    <li>
      <a href="../articles/numerical_example_02.html">Compute the Standardized Moderation Effect by stdmod_selected</a>
    </li>
    <li>
      <a href="../articles/numerical_example_lavaan.html">Compute Standardized Moderation Effect in SEM using stdmod_lavaan</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="numerical_example_01_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Numerical Example - stdmod_selected</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung and David Weng Ngai Vong</h4>
            
            <h4 data-toc-skip class="date">2022-03-28</h4>
      
      
      <div class="hidden name"><code>numerical_example_01.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h2>
<p>This document demonstrates how to use <code>std_selected</code> to do mean centering and rescaling for selected variables in a regression model. A moderated regression model is used as an example.</p>
</div>
<div class="section level2">
<h2 id="setup-the-environment">Setup the Environment<a class="anchor" aria-label="anchor" href="#setup-the-environment"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">stdmod</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://pbreheny.github.io/visreg" class="external-link">visreg</a></span><span class="op">)</span> <span class="co"># For visualizing the moderation effect</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lm.beta</span><span class="op">)</span> <span class="co"># For generating the typical standardized solution</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-the-dataset">Load the Dataset<a class="anchor" aria-label="anchor" href="#load-the-dataset"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sleep_emo_con</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sleep_emo_con</span><span class="op">)</span>
<span class="co">#&gt;   case_id sleep_duration conscientiousness emotional_stability age gender</span>
<span class="co">#&gt; 1       1              6               3.6                 3.6  20 female</span>
<span class="co">#&gt; 2       2              4               3.8                 2.4  20 female</span>
<span class="co">#&gt; 3       3              7               4.3                 2.7  20 female</span>
<span class="co">#&gt; 4       4              8               2.9                 1.3  20 female</span>
<span class="co">#&gt; 5       5              8               3.3                 2.6  22 female</span>
<span class="co">#&gt; 6       6              8               2.4                 2.2  25 female</span></code></pre></div>
<p>This data set has 500 cases of data. The variables are sleep duration, age, gender, and the scores from two personality scales, emotional stability and conscientioisnes of the IPIP Big Five markers. Please refer to (citation to be included) for the detail of the data set.</p>
</div>
<div class="section level2">
<h2 id="moderated-regression">Moderated Regression<a class="anchor" aria-label="anchor" href="#moderated-regression"></a>
</h2>
<p>Suppose we are interested in predicting sleep duration by emotional stability, after controlling for gender and age. However, we suspect that the effect of emotional stability, if any, may be moderated by conscientiousness. Therefore, we conduct a moderared regression as follow:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">sleep_duration</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">emotional_stability</span><span class="op">*</span><span class="va">conscientiousness</span>, <span class="va">sleep_emo_con</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = sleep_emo_con)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)                            1.85154    1.35224   1.369  0.17155   </span>
<span class="co">#&gt; age                                    0.01789    0.02133   0.838  0.40221   </span>
<span class="co">#&gt; gendermale                            -0.26127    0.16579  -1.576  0.11570   </span>
<span class="co">#&gt; emotional_stability                    1.32151    0.45039   2.934  0.00350 **</span>
<span class="co">#&gt; conscientiousness                      1.20385    0.37062   3.248  0.00124 **</span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.33140    0.13273  -2.497  0.01286 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">lm_raw</span>, <span class="st">"emotional_stability"</span>, <span class="st">"conscientiousness"</span>,
            breaks <span class="op">=</span> <span class="fl">2</span>, overlay <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="numerical_example_01_files/figure-html/mod_reg-1.png" width="576"></p>
<p>The results show that conscientiousness significantly moderates the effect of emotional stability on sleep duration.</p>
</div>
<div class="section level2">
<h2 id="mean-center-conscientiousness">Mean center conscientiousness<a class="anchor" aria-label="anchor" href="#mean-center-conscientiousness"></a>
</h2>
<p>To know the effect of emotional stability when conscientiouaness is equal to its mean, we can center conscientiousness by its mean in the data and redo the moderated regression. Instead of creating the new variable and rerun the regression, we can pass the previous output to <code>std_selected</code> and specify the variables to be mean centered.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_w_centered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_center <span class="op">=</span> <span class="op">~</span> <span class="va">conscientiousness</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_w_centered</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered and/or scaled</span>
<span class="co">#&gt; Variable(s) centered: conscientiousness</span>
<span class="co">#&gt; Variable(s) scaled:</span>
<span class="co">#&gt;                     centered_by scaled_by</span>
<span class="co">#&gt; sleep_duration           0.0000         1</span>
<span class="co">#&gt; age                      0.0000         1</span>
<span class="co">#&gt; gender                   0.0000         1</span>
<span class="co">#&gt; emotional_stability      0.0000         1</span>
<span class="co">#&gt; conscientiousness        3.3432         1</span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; Centered by 0 = No centering; Scaled by 1: No scaling.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)                            5.87626    0.51695  11.367  &lt; 2e-16 ***</span>
<span class="co">#&gt; age                                    0.01789    0.02133   0.838  0.40221    </span>
<span class="co">#&gt; gendermale                            -0.26127    0.16579  -1.576  0.11570    </span>
<span class="co">#&gt; emotional_stability                    0.21358    0.08343   2.560  0.01076 *  </span>
<span class="co">#&gt; conscientiousness                      1.20385    0.37062   3.248  0.00124 ** </span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.33140    0.13273  -2.497  0.01286 *  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">lm_w_centered</span>, <span class="st">"emotional_stability"</span>, <span class="st">"conscientiousness"</span>,
            breaks <span class="op">=</span> <span class="fl">2</span>, overlay <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="numerical_example_01_files/figure-html/unnamed-chunk-2-1.png" width="576"></p>
<p>The argument for meaning centering is <code>to_center</code>. The variable is specified in the formula form.</p>
</div>
<div class="section level2">
<h2 id="mean-center-conscientiousness-and-emotional-stability">Mean center conscientiousness and emotional stability<a class="anchor" aria-label="anchor" href="#mean-center-conscientiousness-and-emotional-stability"></a>
</h2>
<p>This example demonstrates centering more than one variable. In the following model, both emotional stability and conscientiousness are centered. They are placed after <code>~</code> and joined by <code>+</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_xw_centered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emotional_stability</span> <span class="op">+</span> <span class="va">conscientiousness</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xw_centered</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered and/or scaled</span>
<span class="co">#&gt; Variable(s) centered: emotional_stability conscientiousness</span>
<span class="co">#&gt; Variable(s) scaled:</span>
<span class="co">#&gt;                     centered_by scaled_by</span>
<span class="co">#&gt; sleep_duration           0.0000         1</span>
<span class="co">#&gt; age                      0.0000         1</span>
<span class="co">#&gt; gender                   0.0000         1</span>
<span class="co">#&gt; emotional_stability      2.7132         1</span>
<span class="co">#&gt; conscientiousness        3.3432         1</span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; Centered by 0 = No centering; Scaled by 1: No scaling.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)                            6.45575    0.47828  13.498  &lt; 2e-16 ***</span>
<span class="co">#&gt; age                                    0.01789    0.02133   0.838  0.40221    </span>
<span class="co">#&gt; gendermale                            -0.26127    0.16579  -1.576  0.11570    </span>
<span class="co">#&gt; emotional_stability                    0.21358    0.08343   2.560  0.01076 *  </span>
<span class="co">#&gt; conscientiousness                      0.30470    0.10546   2.889  0.00403 ** </span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.33140    0.13273  -2.497  0.01286 *  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">lm_xw_centered</span>, <span class="st">"emotional_stability"</span>, <span class="st">"conscientiousness"</span>,
            breaks <span class="op">=</span> <span class="fl">2</span>, overlay <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="numerical_example_01_files/figure-html/unnamed-chunk-3-1.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="standardize-both-conscientiousness-and-emotional-stability">Standardize both conscientiousness and emotional stability<a class="anchor" aria-label="anchor" href="#standardize-both-conscientiousness-and-emotional-stability"></a>
</h2>
<p>To standardize a variablex we first mean center it and then scale it by its standard deviation. Scaling is done by listing the variable on <code>to_scale</code>. The input format is identical to that of <code>to_center</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_xw_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emotional_stability</span> <span class="op">+</span> <span class="va">conscientiousness</span>,
                                  to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">emotional_stability</span> <span class="op">+</span> <span class="va">conscientiousness</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xw_std</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered and/or scaled</span>
<span class="co">#&gt; Variable(s) centered: emotional_stability conscientiousness</span>
<span class="co">#&gt; Variable(s) scaled: emotional_stability conscientiousness</span>
<span class="co">#&gt;                     centered_by scaled_by</span>
<span class="co">#&gt; sleep_duration           0.0000 1.0000000</span>
<span class="co">#&gt; age                      0.0000 1.0000000</span>
<span class="co">#&gt; gender                   0.0000 1.0000000</span>
<span class="co">#&gt; emotional_stability      2.7132 0.7629613</span>
<span class="co">#&gt; conscientiousness        3.3432 0.6068198</span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; Centered by 0 = No centering; Scaled by 1: No scaling.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)                            6.45575    0.47828  13.498  &lt; 2e-16 ***</span>
<span class="co">#&gt; age                                    0.01789    0.02133   0.838  0.40221    </span>
<span class="co">#&gt; gendermale                            -0.26127    0.16579  -1.576  0.11570    </span>
<span class="co">#&gt; emotional_stability                    0.16295    0.06365   2.560  0.01076 *  </span>
<span class="co">#&gt; conscientiousness                      0.18490    0.06399   2.889  0.00403 ** </span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.15343    0.06145  -2.497  0.01286 *  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">lm_xw_std</span>, <span class="st">"emotional_stability"</span>, <span class="st">"conscientiousness"</span>,
            breaks <span class="op">=</span> <span class="fl">2</span>, overlay <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="numerical_example_01_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="standardize-conscientiousness-emotional-stability-and-sleep_duration">Standardize conscientiousness, emotional stability, and sleep_duration<a class="anchor" aria-label="anchor" href="#standardize-conscientiousness-emotional-stability-and-sleep_duration"></a>
</h2>
<p>Note that we can also mean center or standardize the dependent variable. We just add the variable to the right hand side of <code>~</code> in <code>to_center</code> and <code>to_scale</code> as appropriate.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_xwy_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emotional_stability</span> <span class="op">+</span> <span class="va">conscientiousness</span> <span class="op">+</span> <span class="va">sleep_duration</span>,
                                  to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">emotional_stability</span> <span class="op">+</span> <span class="va">conscientiousness</span> <span class="op">+</span> <span class="va">sleep_duration</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xwy_std</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered and/or scaled</span>
<span class="co">#&gt; Variable(s) centered: emotional_stability conscientiousness sleep_duration</span>
<span class="co">#&gt; Variable(s) scaled: emotional_stability conscientiousness sleep_duration</span>
<span class="co">#&gt;                     centered_by scaled_by</span>
<span class="co">#&gt; sleep_duration         6.776333 1.4168291</span>
<span class="co">#&gt; age                    0.000000 1.0000000</span>
<span class="co">#&gt; gender                 0.000000 1.0000000</span>
<span class="co">#&gt; emotional_stability    2.713200 0.7629613</span>
<span class="co">#&gt; conscientiousness      3.343200 0.6068198</span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; Centered by 0 = No centering; Scaled by 1: No scaling.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -4.2941 -0.5563  0.0063  0.6663  4.3187 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)                           -0.22627    0.33757  -0.670  0.50298   </span>
<span class="co">#&gt; age                                    0.01262    0.01506   0.838  0.40221   </span>
<span class="co">#&gt; gendermale                            -0.18440    0.11702  -1.576  0.11570   </span>
<span class="co">#&gt; emotional_stability                    0.11501    0.04493   2.560  0.01076 * </span>
<span class="co">#&gt; conscientiousness                      0.13050    0.04517   2.889  0.00403 **</span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.10829    0.04337  -2.497  0.01286 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.9771 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">lm_xwy_std</span>, <span class="st">"emotional_stability"</span>, <span class="st">"conscientiousness"</span>,
            breaks <span class="op">=</span> <span class="fl">2</span>, overlay <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="numerical_example_01_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="standardize-all-variables">Standardize all variables<a class="anchor" aria-label="anchor" href="#standardize-all-variables"></a>
</h2>
<p>If we want to standardize all variables, we can use <code>~ .</code> as a shortcut. Note that <code>std_selected</code> will skip categorical variables (i.e., factors or string variables in the regression model of <code>lm</code>).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_all_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_center <span class="op">=</span> <span class="op">~</span> <span class="va">.</span>,
                                   to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_all_std</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered and/or scaled</span>
<span class="co">#&gt; Variable(s) centered: sleep_duration age gender emotional_stability conscientiousness</span>
<span class="co">#&gt; Variable(s) scaled: sleep_duration age gender emotional_stability conscientiousness</span>
<span class="co">#&gt;                     centered_by scaled_by</span>
<span class="co">#&gt; sleep_duration         6.776333 1.4168291</span>
<span class="co">#&gt; age                   22.274000 2.9407857</span>
<span class="co">#&gt; gender                       NA        NA</span>
<span class="co">#&gt; emotional_stability    2.713200 0.7629613</span>
<span class="co">#&gt; conscientiousness      3.343200 0.6068198</span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; Centered by 0 = No centering; Scaled by 1: No scaling.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -4.2941 -0.5563  0.0063  0.6663  4.3187 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)                            0.05492    0.04883   1.125  0.26124   </span>
<span class="co">#&gt; age                                    0.03712    0.04428   0.838  0.40221   </span>
<span class="co">#&gt; gendermale                            -0.18440    0.11702  -1.576  0.11570   </span>
<span class="co">#&gt; emotional_stability                    0.11501    0.04493   2.560  0.01076 * </span>
<span class="co">#&gt; conscientiousness                      0.13050    0.04517   2.889  0.00403 **</span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.10829    0.04337  -2.497  0.01286 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.9771 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span>
<span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">lm_all_std</span>, <span class="st">"emotional_stability"</span>, <span class="st">"conscientiousness"</span>,
            breaks <span class="op">=</span> <span class="fl">2</span>, overlay <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="numerical_example_01_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="the-usual-standardized-solution">The Usual Standardized Solution<a class="anchor" aria-label="anchor" href="#the-usual-standardized-solution"></a>
</h2>
<p>For comparison, this is the results of standardizing all variables, including the product term and the categorical variable.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_usual_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lm.beta/man/lm.beta.html" class="external-link">lm.beta</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_usual_std</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = sleep_emo_con)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Standardized Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)                            1.85154      0.00000    1.35224   1.369  0.17155   </span>
<span class="co">#&gt; age                                    0.01789      0.03712    0.02133   0.838  0.40221   </span>
<span class="co">#&gt; gendermale                            -0.26127     -0.06934    0.16579  -1.576  0.11570   </span>
<span class="co">#&gt; emotional_stability                    1.32151      0.71163    0.45039   2.934  0.00350 **</span>
<span class="co">#&gt; conscientiousness                      1.20385      0.51560    0.37062   3.248  0.00124 **</span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.33140     -0.78201    0.13273  -2.497  0.01286 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="standardize-conscientiousness-emotional-stability-and-sleep_duration-with-nonparametric-bootstrapping-confidence-interval">Standardize conscientiousness, emotional stability, and sleep_duration: With Nonparametric Bootstrapping Confidence Interval<a class="anchor" aria-label="anchor" href="#standardize-conscientiousness-emotional-stability-and-sleep_duration-with-nonparametric-bootstrapping-confidence-interval"></a>
</h2>
<p>It has been shown (e.g., Yuan &amp; Chan, 2011) that the standard errors of standardized regression coefficients computed just by rescaling the variables are biased, and consequently the confidence intervals are also invalid. The function <code>std_selected_boot</code> is a version of <code>std_selected</code> that also report the confidence interval of the regression coefficients when rescaling is conducted.</p>
<p>We use the same example above that standardizes emotional stability, conscientiousness, and sleep duration, to illustrate this function. The argument <code>boot</code> specifies the number of nonparametric bootstrap samples. Currently, only the 95% confidence intervals will be reported.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_xwy_std_ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected_boot</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emotional_stability</span> <span class="op">+</span> <span class="va">conscientiousness</span> <span class="op">+</span> <span class="va">sleep_duration</span>,
                                           to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">emotional_stability</span> <span class="op">+</span> <span class="va">conscientiousness</span> <span class="op">+</span> <span class="va">sleep_duration</span>,
                                           nboot <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xwy_std_ci</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Selected variable(s) are centered and/or scaled</span>
<span class="co">#&gt; Variable(s) centered: emotional_stability conscientiousness sleep_duration</span>
<span class="co">#&gt; Variable(s) scaled: emotional_stability conscientiousness sleep_duration</span>
<span class="co">#&gt;                     centered_by scaled_by</span>
<span class="co">#&gt; sleep_duration         6.776333 1.4168291</span>
<span class="co">#&gt; age                    0.000000 1.0000000</span>
<span class="co">#&gt; gender                 0.000000 1.0000000</span>
<span class="co">#&gt; emotional_stability    2.713200 0.7629613</span>
<span class="co">#&gt; conscientiousness      3.343200 0.6068198</span>
<span class="co">#&gt; Note:</span>
<span class="co">#&gt; Centered by 0 = No centering; Scaled by 1: No scaling.</span>
<span class="co">#&gt; Nonparametric bootstrapping 95% confidence intervals computed.</span>
<span class="co">#&gt; Number of bootstrap samples is 2000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emotional_stability * </span>
<span class="co">#&gt;     conscientiousness, data = dat_mod)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -4.2941 -0.5563  0.0063  0.6663  4.3187 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                                       Estimate Std. Error  t value Pr(&gt;|t|) CI Lower CI Upper</span>
<span class="co">#&gt; (Intercept)                           -0.22627    0.33757 -0.67029  0.50299 -0.79267    0.340</span>
<span class="co">#&gt; age                                    0.01262    0.01506  0.83841  0.40221 -0.01307    0.037</span>
<span class="co">#&gt; gendermale                            -0.18440    0.11702 -1.57587  0.11570 -0.45658    0.082</span>
<span class="co">#&gt; emotional_stability                    0.11501    0.04493  2.56003  0.01076  0.02577    0.203</span>
<span class="co">#&gt; conscientiousness                      0.13050    0.04517  2.88934  0.00403  0.03758    0.224</span>
<span class="co">#&gt; emotional_stability:conscientiousness -0.10829    0.04337 -2.49670  0.01286 -0.20160   -0.012</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.9771 on 494 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span>
<span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span></code></pre></div>
<p>The standardized moderation effect is -.108, and the 95% nonparametric bootstrapping confidence interval is -.207 to 0.013.</p>
<p>Note: As a side product, the nonparametric Bootstrapping confidence of the other coefficients are also reported. They can be used for other variables that are standardized in the same model, whether they are involved in the moderation or not.</p>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>Yuan, K.-H., &amp; Chan, W. (2011). Biases and standard errors of standardized regression coefficients. #Psychometrika, 76#(4), 670–690. <a href="https://doi.org/10.1007/s11336-011-9224-6" class="external-link uri">https://doi.org/10.1007/s11336-011-9224-6</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
