<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="stdmod">
<title>Mean Center and Standardize Selected Variable by std_selected() • stdmod</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Arimo-0.4.5/font.css" rel="stylesheet">
<link href="../deps/Noto_Sans_Mono-0.4.5/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Mean Center and Standardize Selected Variable by std_selected()">
<meta property="og:description" content="stdmod">
<meta property="og:image" content="https://sfcheung.github.io/stdmod/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">stdmod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.6.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/stdmod.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/moderation.html">Standardized Moderation Effect by std_selected()</a>
    <a class="dropdown-item" href="../articles/std_selected.html">Mean Center and Standardize Selected Variable by std_selected()</a>
    <a class="dropdown-item" href="../articles/plotmod.html">Moderation Effects Plots by plotmod()</a>
    <a class="dropdown-item" href="../articles/cond_effect.html">Conditional Effects by cond_effect()</a>
    <a class="dropdown-item" href="../articles/stdmod_lavaan.html">Standardized Moderation Effect in a Path Model by stdmod_lavaan()</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/stdmod/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Mean Center and Standardize Selected Variable by std_selected()</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung
and David Weng Ngai Vong</h4>
            
            <h4 data-toc-skip class="date">2023-03-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/stdmod/blob/HEAD/vignettes/std_selected.Rmd" class="external-link"><code>vignettes/std_selected.Rmd</code></a></small>
      <div class="d-none name"><code>std_selected.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h2>
<p>Instead of standardizing all variables, even variables that (a) are
categorical and should not be standardized, or (b) measured on
meaningful unites and do not need to be standardized,
<code><a href="../reference/std_selected.html">std_selected()</a></code> allows users to have more control on how
standardization is to be conducted.</p>
<p>A moderated regression model is used as an example but it can also be
used for regression models without interaction terms.</p>
</div>
<div class="section level2">
<h2 id="setup-the-environment">Setup the Environment<a class="anchor" aria-label="anchor" href="#setup-the-environment"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/stdmod/">stdmod</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-the-dataset">Load the Dataset<a class="anchor" aria-label="anchor" href="#load-the-dataset"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sleep_emo_con</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sleep_emo_con</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;   case_id sleep_duration conscientiousness emotional_stability age gender</span></span>
<span><span class="co">#&gt; 1       1              6               3.6                 3.6  20 female</span></span>
<span><span class="co">#&gt; 2       2              4               3.8                 2.4  20 female</span></span>
<span><span class="co">#&gt; 3       3              7               4.3                 2.7  20 female</span></span></code></pre></div>
<p>This data set has 500 cases of data. The variables are sleep
duration, age, gender, and the scores from two personality scales,
emotional stability and conscientiousness of the IPIP Big Five markers.
Please refer to (citation to be included) for the detail of the data
set.</p>
<p>The names of some variables are shortened for readability:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">sleep_emo_con</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cons"</span>, <span class="st">"emot"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sleep_emo_con</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;   case_id sleep_duration cons emot age gender</span></span>
<span><span class="co">#&gt; 1       1              6  3.6  3.6  20 female</span></span>
<span><span class="co">#&gt; 2       2              4  3.8  2.4  20 female</span></span>
<span><span class="co">#&gt; 3       3              7  4.3  2.7  20 female</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="moderated-regression">Moderated Regression<a class="anchor" aria-label="anchor" href="#moderated-regression"></a>
</h2>
<p>Suppose we are interested in predicting sleep duration by emotional
stability, after controlling for gender and age. However, we suspect
that the effect of emotional stability, if any, may be moderated by
conscientiousness. Therefore, we conduct a moderated regression as
follow:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">sleep_duration</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">emot</span> <span class="op">*</span> <span class="va">cons</span>,</span>
<span>             data <span class="op">=</span> <span class="va">sleep_emo_con</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emot * cons, data = sleep_emo_con)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -6.0841 -0.7882  0.0089  0.9440  6.1189 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)   </span></span>
<span><span class="co">#&gt; (Intercept)  1.85154    1.35224   1.369  0.17155   </span></span>
<span><span class="co">#&gt; age          0.01789    0.02133   0.838  0.40221   </span></span>
<span><span class="co">#&gt; gendermale  -0.26127    0.16579  -1.576  0.11570   </span></span>
<span><span class="co">#&gt; emot         1.32151    0.45039   2.934  0.00350 **</span></span>
<span><span class="co">#&gt; cons         1.20385    0.37062   3.248  0.00124 **</span></span>
<span><span class="co">#&gt; emot:cons   -0.33140    0.13273  -2.497  0.01286 * </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 1.384 on 494 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span></span>
<span><span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span></span></code></pre></div>
<p>The results show that conscientiousness significantly moderates the
effect of emotional stability on sleep duration.</p>
<p>This package has a simple function, <code><a href="../reference/plotmod.html">plotmod()</a></code>, for
generating a typical plot of the moderation effect:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotmod.html">plotmod</a></span><span class="op">(</span><span class="va">lm_raw</span>,</span>
<span>        x <span class="op">=</span> <span class="st">"emot"</span>,</span>
<span>        w <span class="op">=</span> <span class="st">"cons"</span>,</span>
<span>        x_label <span class="op">=</span> <span class="st">"Emotional Stability"</span>,</span>
<span>        w_label <span class="op">=</span> <span class="st">"Conscientiousness"</span>,</span>
<span>        y_label <span class="op">=</span> <span class="st">"Sleep Duration"</span><span class="op">)</span></span></code></pre></div>
<p><img src="std_selected_files/figure-html/unnamed-chunk-3-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The function <code><a href="../reference/plotmod.html">plotmod()</a></code> also prints the conditional
effects of the predictor, emotional stability in this example.</p>
</div>
<div class="section level2">
<h2 id="mean-center-the-moderator">Mean Center the Moderator<a class="anchor" aria-label="anchor" href="#mean-center-the-moderator"></a>
</h2>
<p>To know the effect of emotional stability when conscientiousness is
equal to its mean, we can center conscientiousness by its mean in the
data and redo the moderated regression. Instead of creating the new
variable and rerun the regression, we can pass the <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>
output to <code><a href="../reference/std_selected.html">std_selected()</a></code> and specify the variables to be
mean centered:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_w_centered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>,</span>
<span>                              to_center <span class="op">=</span> <span class="op">~</span> <span class="va">cons</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_w_centered</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)   5.8763     0.5170   11.37   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; age           0.0179     0.0213    0.84   0.4022    </span></span>
<span><span class="co">#&gt; gendermale   -0.2613     0.1658   -1.58   0.1157    </span></span>
<span><span class="co">#&gt; emot          0.2136     0.0834    2.56   0.0108 *  </span></span>
<span><span class="co">#&gt; cons          1.2039     0.3706    3.25   0.0012 ** </span></span>
<span><span class="co">#&gt; emot:cons    -0.3314     0.1327   -2.50   0.0129 *  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
<p>The argument for meaning centering is <code>to_center</code>. The
variable is specified in the formula form, placing them on the right
hand side of the formula.</p>
<p>In this example, when conscientiousness is at mean level, the effect
of emotional stability is 0.2136.</p>
</div>
<div class="section level2">
<h2 id="mean-center-the-moderator-and-the-focal-variable">Mean Center The Moderator and the Focal Variable<a class="anchor" aria-label="anchor" href="#mean-center-the-moderator-and-the-focal-variable"></a>
</h2>
<p>This example demonstrates centering more than one variable. In the
following model, both emotional stability and conscientiousness are
centered. They are placed after <code>~</code> and joined by
<code>+</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_xw_centered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>,</span>
<span>                               to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xw_centered</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)   6.4557     0.4783   13.50   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; age           0.0179     0.0213    0.84    0.402    </span></span>
<span><span class="co">#&gt; gendermale   -0.2613     0.1658   -1.58    0.116    </span></span>
<span><span class="co">#&gt; emot          0.2136     0.0834    2.56    0.011 *  </span></span>
<span><span class="co">#&gt; cons          0.3047     0.1055    2.89    0.004 ** </span></span>
<span><span class="co">#&gt; emot:cons    -0.3314     0.1327   -2.50    0.013 *  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="standardize-the-moderator-and-the-focal-variable">Standardize The Moderator and The Focal Variable<a class="anchor" aria-label="anchor" href="#standardize-the-moderator-and-the-focal-variable"></a>
</h2>
<p>To standardize a variable we first mean center it and then scale it
by its standard deviation. Scaling is done by listing the variable on
<code>to_scale</code>. The input format is identical to that of
<code>to_center</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_xw_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>,</span>
<span>                          to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span>,</span>
<span>                          to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xw_std</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)   6.4557     0.4783   13.50   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; age           0.0179     0.0213    0.84    0.402    </span></span>
<span><span class="co">#&gt; gendermale   -0.2613     0.1658   -1.58    0.116    </span></span>
<span><span class="co">#&gt; emot          0.1630     0.0637    2.56    0.011 *  </span></span>
<span><span class="co">#&gt; cons          0.1849     0.0640    2.89    0.004 ** </span></span>
<span><span class="co">#&gt; emot:cons    -0.1534     0.0615   -2.50    0.013 *  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
<p>In this example, when conscientiousness is at mean level, for each
one standard deviation increase of emotional stability, the predicted
sleep duration increases by 0.1630 hour.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotmod.html">plotmod</a></span><span class="op">(</span><span class="va">lm_xw_std</span>,</span>
<span>        x <span class="op">=</span> <span class="st">"emot"</span>,</span>
<span>        w <span class="op">=</span> <span class="st">"cons"</span>,</span>
<span>        x_label <span class="op">=</span> <span class="st">"Emotional Stability"</span>,</span>
<span>        w_label <span class="op">=</span> <span class="st">"Conscientiousness"</span>,</span>
<span>        y_label <span class="op">=</span> <span class="st">"Sleep Duration"</span><span class="op">)</span></span></code></pre></div>
<p><img src="std_selected_files/figure-html/unnamed-chunk-7-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The function <code><a href="../reference/plotmod.html">plotmod()</a></code> automatically checks whether a
variable is standardized. If yes, it will report this in the plot as
table note on the bottom.</p>
<p>The pattern of the plot does not change. However, the conditional
effects reported in the graph are now based on the model with emotional
stability and conscientiousness standardized.</p>
</div>
<div class="section level2">
<h2 id="standardize-the-moderator-the-focal-variable-and-the-outcome-variable">Standardize The Moderator, The Focal Variable, and the Outcome
Variable<a class="anchor" aria-label="anchor" href="#standardize-the-moderator-the-focal-variable-and-the-outcome-variable"></a>
</h2>
<p>We can also mean center or standardize the outcome variable
(dependent variable). We just add the variable to the right hand side of
<code>~</code> in <code>to_center</code> and <code>to_scale</code> as
appropriate.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_xwy_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>,</span>
<span>                           to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span> <span class="op">+</span> <span class="va">sleep_duration</span>,</span>
<span>                           to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span> <span class="op">+</span> <span class="va">sleep_duration</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xwy_std</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)   </span></span>
<span><span class="co">#&gt; (Intercept)  -0.2263     0.3376   -0.67    0.503   </span></span>
<span><span class="co">#&gt; age           0.0126     0.0151    0.84    0.402   </span></span>
<span><span class="co">#&gt; gendermale   -0.1844     0.1170   -1.58    0.116   </span></span>
<span><span class="co">#&gt; emot          0.1150     0.0449    2.56    0.011 * </span></span>
<span><span class="co">#&gt; cons          0.1305     0.0452    2.89    0.004 **</span></span>
<span><span class="co">#&gt; emot:cons    -0.1083     0.0434   -2.50    0.013 * </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
<p>In this example, when conscientiousness is at mean level, the
standardized moderation effect of emotional stability on sleep duration
is 0.1150.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotmod.html">plotmod</a></span><span class="op">(</span><span class="va">lm_xwy_std</span>,</span>
<span>        x <span class="op">=</span> <span class="st">"emot"</span>,</span>
<span>        w <span class="op">=</span> <span class="st">"cons"</span>,</span>
<span>        x_label <span class="op">=</span> <span class="st">"Emotional Stability"</span>,</span>
<span>        w_label <span class="op">=</span> <span class="st">"Conscientiousness"</span>,</span>
<span>        y_label <span class="op">=</span> <span class="st">"Sleep Duration"</span><span class="op">)</span></span></code></pre></div>
<p><img src="std_selected_files/figure-html/unnamed-chunk-9-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Again, the pattern of the plot does not change, but the conditional
effects reported in the graph are now based on the model with emotional
stability, conscientiousness, and sleep duration standardized.</p>
</div>
<div class="section level2">
<h2 id="standardize-all-variables">Standardize All Variables<a class="anchor" aria-label="anchor" href="#standardize-all-variables"></a>
</h2>
<p>If we want to standardize all variables except for categorical
variables, if any, we can use <code>~ .</code> as a shortcut.
<code><a href="../reference/std_selected.html">std_selected()</a></code> will automatically skip categorical
variables (i.e., factors or string variables in the regression model of
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_all_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>,</span>
<span>                           to_center <span class="op">=</span> <span class="op">~</span> <span class="va">.</span>,</span>
<span>                           to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_all_std</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)   </span></span>
<span><span class="co">#&gt; (Intercept)   0.0549     0.0488    1.12    0.261   </span></span>
<span><span class="co">#&gt; age           0.0371     0.0443    0.84    0.402   </span></span>
<span><span class="co">#&gt; gendermale   -0.1844     0.1170   -1.58    0.116   </span></span>
<span><span class="co">#&gt; emot          0.1150     0.0449    2.56    0.011 * </span></span>
<span><span class="co">#&gt; cons          0.1305     0.0452    2.89    0.004 **</span></span>
<span><span class="co">#&gt; emot:cons    -0.1083     0.0434   -2.50    0.013 * </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-usual-standardized-solution">The Usual Standardized Solution<a class="anchor" aria-label="anchor" href="#the-usual-standardized-solution"></a>
</h2>
<p>For comparison, this is the results of standardizing all variables,
including the product term and the categorical variable.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lm.beta</span><span class="op">)</span> <span class="co"># For generating the typical standardized solution</span></span>
<span><span class="va">lm_usual_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lm.beta/man/lm.beta.html" class="external-link">lm.beta</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_usual_std</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Standardized Std. Error t value Pr(&gt;|t|)   </span></span>
<span><span class="co">#&gt; (Intercept)   1.8515           NA     1.3522    1.37   0.1715   </span></span>
<span><span class="co">#&gt; age           0.0179       0.0371     0.0213    0.84   0.4022   </span></span>
<span><span class="co">#&gt; gendermale   -0.2613      -0.0693     0.1658   -1.58   0.1157   </span></span>
<span><span class="co">#&gt; emot          1.3215       0.7116     0.4504    2.93   0.0035 **</span></span>
<span><span class="co">#&gt; cons          1.2039       0.5156     0.3706    3.25   0.0012 **</span></span>
<span><span class="co">#&gt; emot:cons    -0.3314      -0.7820     0.1327   -2.50   0.0129 * </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
<p>In moderated regression, the coefficient of <em>standardized</em>
product term, -0.7820, is not interpretable. The coefficient of
<em>standardized</em> gender, -0.0693, is also difficult to
interpret.</p>
</div>
<div class="section level2">
<h2 id="improved-confidence-interval-for-betas">Improved Confidence Interval For “Betas”<a class="anchor" aria-label="anchor" href="#improved-confidence-interval-for-betas"></a>
</h2>
<p>It has been shown (e.g., Yuan &amp; Chan, 2011) that the standard
errors of standardized regression coefficients (betas) computed just by
standardizing the variables are biased, and consequently the confidence
intervals are also invalid. The function
<code><a href="../reference/std_selected.html">std_selected_boot()</a></code> is a wrapper of
<code><a href="../reference/std_selected.html">std_selected()</a></code> that also forms the confidence interval of
the regression coefficients when standardization is conducted, using
nonparametric bootstrapping as suggested by Cheung, Cheung, Lau, Hui,
and Vong (2022).</p>
<p>We use the same example above that standardizes emotional stability,
conscientiousness, and sleep duration, to illustrate this function. The
argument <code>nboot</code> specifies the number of nonparametric
bootstrap samples. The level of confidence set by <code>conf</code>. The
default is .95, denoting 95% confidence intervals. If this is the
desired level, this argument can be omitted.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">58702</span><span class="op">)</span></span>
<span><span class="va">lm_xwy_std_ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/std_selected.html">std_selected_boot</a></span><span class="op">(</span><span class="va">lm_raw</span>,</span>
<span>                                   to_center <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span> <span class="op">+</span> <span class="va">sleep_duration</span>,</span>
<span>                                   to_scale  <span class="op">=</span> <span class="op">~</span> <span class="va">emot</span> <span class="op">+</span> <span class="va">cons</span> <span class="op">+</span> <span class="va">sleep_duration</span>,</span>
<span>                                   nboot <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_xwy_std_ci</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call to std_selected_boot():</span></span>
<span><span class="co">#&gt; std_selected_boot(lm_out = lm_raw, to_center = ~emot + cons + </span></span>
<span><span class="co">#&gt;     sleep_duration, to_scale = ~emot + cons + sleep_duration, </span></span>
<span><span class="co">#&gt;     nboot = 2000)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Selected variable(s) are centered by mean and/or scaled by SD</span></span>
<span><span class="co">#&gt; - Variable(s) centered: emot cons sleep_duration</span></span>
<span><span class="co">#&gt; - Variable(s) scaled: emot cons sleep_duration</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                centered_by scaled_by                            Note</span></span>
<span><span class="co">#&gt; sleep_duration    6.776333 1.4168291 Standardized (mean = 0, SD = 1)</span></span>
<span><span class="co">#&gt; age               0.000000 1.0000000                                </span></span>
<span><span class="co">#&gt; gender                  NA        NA Nonnumeric                     </span></span>
<span><span class="co">#&gt; emot              2.713200 0.7629613 Standardized (mean = 0, SD = 1)</span></span>
<span><span class="co">#&gt; cons              3.343200 0.6068198 Standardized (mean = 0, SD = 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Note:</span></span>
<span><span class="co">#&gt; - Categorical variables will not be centered or scaled even if</span></span>
<span><span class="co">#&gt;   requested.</span></span>
<span><span class="co">#&gt; - Nonparametric bootstrapping 95% confidence intervals computed.</span></span>
<span><span class="co">#&gt; - The number of bootstrap samples is 2000.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = sleep_duration ~ age + gender + emot * cons, data = dat_mod)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -4.2941 -0.5563  0.0063  0.6663  4.3187 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;              Estimate  CI Lower  CI Upper Std. Error t value Pr(&gt;|t|)   </span></span>
<span><span class="co">#&gt; (Intercept) -0.226270 -0.831491  0.350298   0.337569  -0.670  0.50298   </span></span>
<span><span class="co">#&gt; age          0.012624 -0.012787  0.039725   0.015057   0.838  0.40221   </span></span>
<span><span class="co">#&gt; gendermale  -0.184402 -0.448399  0.072333   0.117016  -1.576  0.11570   </span></span>
<span><span class="co">#&gt; emot         0.115014  0.025582  0.200143   0.044927   2.560  0.01076 * </span></span>
<span><span class="co">#&gt; cons         0.130502  0.028861  0.232320   0.045167   2.889  0.00403 **</span></span>
<span><span class="co">#&gt; emot:cons   -0.108292 -0.200473 -0.007734   0.043374  -2.497  0.01286 * </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9771 on 494 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.0548, Adjusted R-squared:  0.04523 </span></span>
<span><span class="co">#&gt; F-statistic: 5.728 on 5 and 494 DF,  p-value: 3.768e-05</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Note:</span></span>
<span><span class="co">#&gt; - Estimates and their statistics are based on the data after</span></span>
<span><span class="co">#&gt;   mean-centering, scaling, or standardization.</span></span>
<span><span class="co">#&gt; - [CI Lower, CI Upper] are bootstrap percentile confidence intervals.</span></span>
<span><span class="co">#&gt; - Std. Error are not bootstrap SEs.</span></span></code></pre></div>
<p>The standardized moderation effect is -0.1083 , and the 95%
nonparametric bootstrap percentile confidence interval is -0.2005 to
-0.0077.</p>
<p>Note: As a side product, the nonparametric bootstrap confidence of
the other coefficients are also reported. They can be used for other
variables that are standardized in the same model, whether they are
involved in the moderation or not.</p>
</div>
<div class="section level2">
<h2 id="further-information">Further Information<a class="anchor" aria-label="anchor" href="#further-information"></a>
</h2>
<p>Further information on the functions can be found in their help pages
(<code><a href="../reference/std_selected.html">std_selected()</a></code> and <code><a href="../reference/std_selected.html">std_selected_boot()</a></code>). For
example, parallel computation can be used when doing bootstrapping, if
the number of bootstrapping samples request is large.</p>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong,
W. N. (2022) Improving an old way to measure moderation effect in
standardized units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188" class="external-link uri">https://doi.org/10.1037/hea0001188</a>.</p>
<p>Yuan, K.-H., &amp; Chan, W. (2011). Biases and standard errors of
standardized regression coefficients. <em>Psychometrika, 76</em>(4),
670-690. <a href="https://doi.org/10.1007/s11336-011-9224-6" class="external-link uri">https://doi.org/10.1007/s11336-011-9224-6</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
