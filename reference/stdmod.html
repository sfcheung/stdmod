<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Compute the standardized moderation effect in a moderated
regression model."><title>Standardized Moderation Effect Given an 'lm' Output — stdmod • stdmod</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Arimo-0.4.7/font.css" rel="stylesheet"><link href="../deps/Noto_Sans_Mono-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Standardized Moderation Effect Given an 'lm' Output — stdmod"><meta property="og:description" content="Compute the standardized moderation effect in a moderated
regression model."><meta property="og:image" content="https://sfcheung.github.io/stdmod/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">stdmod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/stdmod.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/moderation.html">Standardized Moderation Effect by std_selected()</a>
    <a class="dropdown-item" href="../articles/std_selected.html">Mean Center and Standardize Selected Variable by std_selected()</a>
    <a class="dropdown-item" href="../articles/plotmod.html">Moderation Effects Plots by plotmod()</a>
    <a class="dropdown-item" href="../articles/cond_effect.html">Conditional Effects by cond_effect()</a>
    <a class="dropdown-item" href="../articles/stdmod_lavaan.html">Standardized Moderation Effect in a Path Model by stdmod_lavaan()</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/stdmod/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Standardized Moderation Effect Given an 'lm' Output</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/stdmod/blob/HEAD/R/stdmod.R" class="external-link"><code>R/stdmod.R</code></a>, <a href="https://github.com/sfcheung/stdmod/blob/HEAD/R/stdmod_bootci.R" class="external-link"><code>R/stdmod_bootci.R</code></a></small>
      <div class="d-none name"><code>stdmod.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute the standardized moderation effect in a moderated
regression model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stdmod</span><span class="op">(</span></span>
<span>  <span class="va">lm_out</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  w <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x_rescale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  w_rescale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  y_rescale <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stdmod_boot</span><span class="op">(</span></span>
<span>  <span class="va">lm_out</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  nboot <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  conf <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  boot_args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  full_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>lm_out</dt>
<dd><p>The output from <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>.</p></dd>


<dt>x</dt>
<dd><p>The focal variable, that is, the variable with its effect
being moderated. If supplied, its standard deviation will be
used
for rescaling. Also called the independent variable in some
models. Default is <code>NULL</code>.</p></dd>


<dt>w</dt>
<dd><p>The moderator. If supplied, its standard deviation will be
used
for rescaling. Default is <code>NULL</code>.</p></dd>


<dt>y</dt>
<dd><p>The outcome variable (dependent variable) . If supplied,
its standard
deviation will be used for rescaling. Default is NULL.</p></dd>


<dt>x_rescale</dt>
<dd><p>If <code>TRUE</code>, will rescale x by its standard deviation.
Default is <code>TRUE</code>.</p></dd>


<dt>w_rescale</dt>
<dd><p>If <code>TRUE</code>, will rescale w by its standard deviation.
Default is <code>TRUE</code>.</p></dd>


<dt>y_rescale</dt>
<dd><p>If <code>TRUE</code>, will rescale y by its standard deviation.
Default is <code>TRUE</code>.</p></dd>


<dt>...</dt>
<dd><p>Parameters to be passed to <code>stdmod()</code>.</p></dd>


<dt>nboot</dt>
<dd><p>The number of bootstrap samples. Default is 100.</p></dd>


<dt>conf</dt>
<dd><p>The level of confidence for the confidence interval.
Default is .95.</p></dd>


<dt>boot_args</dt>
<dd><p>A named list of arguments to be passed to <code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot::boot()</a></code>.
Default is <code>NULL</code>.</p></dd>


<dt>full_output</dt>
<dd><p>Whether the full output from <code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot::boot()</a></code> is returned.
Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>stdmod()</code> returns a scalar: The standardized moderation effect.</p>


<p><code>stdmod_boot()</code> returns a list with two elements. The element <code>ci</code> is
a numeric vector of the bootstrap confidence interval. The element <code>boot_out</code>,
if not <code>NA</code>, is the output of <code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot::boot()</a></code>, which is used to do the
bootstrapping.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Two more general functions, <code><a href="std_selected.html">std_selected()</a></code> and
<code><a href="std_selected.html">std_selected_boot()</a></code>, have been developed and can do what these functions
do and more. Users are recommended to use them instead of <code>stdmod()</code> and
<code>stdmod_boot()</code>. These two functions will not be updated in the near
future.</p>
<p>Nevertheless, if computing the standardized moderation effect and
forming its nonparametric
bootstrap interval are all required, then these functions can still
be used.</p>
<p><code>stdmod()</code> computes the standardized moderation effect given an
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> output using the formula from Cheung, Cheung, Lau, Hui, and Vong
(2022). Users specify
the moderator, the focal variable (the variable with its effect on
the outcome variable moderated), the outcome variable (dependent variable)
, and the corresponding
standardized moderation
effect. Users can also select which variable(s) will be standardized.</p>
<p><code>stdmod_boot()</code> is a wrapper of <code>stdmod()</code>. It computes the nonparametric
bootstrap confidence interval of the standardized moderation effect, as
suggested by Cheung, Cheung, Lau, Hui, and Vong (2022), given
the output of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code></p>
<p>Percentile interval from <code><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot::boot.ci()</a></code> is returned by this function.
If other types of
confidence intervals are desired, set <code>full_output = TRUE</code> and use
<code><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot::boot.ci()</a></code> on the element <code>boot_out</code> in the output of this
function.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>stdmod()</code>: The base function for computing standardized
moderation effect</p></li>
<li><p><code>stdmod_boot()</code>: A wrapper of <code>stdmod()</code> that computes the nonparametric
bootstrap confidence interval of the standardized
moderation effect.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N.
(2022) Improving an old way to measure moderation effect in standardized
units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188" class="external-link">doi:10.1037/hea0001188</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448" class="external-link">https://orcid.org/0000-0002-9871-9448</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load a test data of 500 cases</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">test_x_1_w_1_v_2_n_500</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Do regression as usual:</span></span></span>
<span class="r-in"><span><span class="va">lm_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv</span><span class="op">*</span><span class="va">mod</span> <span class="op">+</span> <span class="va">v1</span> <span class="op">+</span> <span class="va">v2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lm(formula = dv ~ iv * mod + v1 + v2, data = dat)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Min       1Q   Median       3Q      Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -1650.87  -513.21     6.61   460.18  2189.74 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error t value Pr(&gt;|t|)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 2814.565   4684.595   0.601   0.5482  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv          -164.942    304.407  -0.542   0.5882  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mod          -17.223     46.420  -0.371   0.7108  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> v1           -12.157     10.684  -1.138   0.2557  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> v2            -4.284      6.290  -0.681   0.4962  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:mod         5.515      3.038   1.815   0.0701 .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 708.1 on 494 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple R-squared:  0.5862,	Adjusted R-squared:  0.582 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-statistic:   140 on 5 and 494 DF,  p-value: &lt; 2.2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The standard deviations of iv, dv, and mod:</span></span></span>
<span class="r-in"><span><span class="va">sds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fl">2</span>, <span class="va">sd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sds</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          dv          iv         mod          v1          v2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1095.222413    1.991458    5.004342    2.970378    5.064710 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute the standardized moderation effect:</span></span></span>
<span class="r-in"><span><span class="va">stdmod_xyw</span> <span class="op">&lt;-</span> <span class="fu">stdmod</span><span class="op">(</span><span class="va">lm_raw</span>, x <span class="op">=</span> <span class="va">iv</span>, y <span class="op">=</span> <span class="va">dv</span>, w <span class="op">=</span> <span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">stdmod_xyw</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     iv:mod </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.05018003 </span>
<span class="r-in"><span><span class="co"># By default, all three variables will be standardized.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check against self-computed standardized moderation effect:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span><span class="op">[</span><span class="st">"iv:mod"</span><span class="op">]</span> <span class="op">*</span> <span class="va">sds</span><span class="op">[</span><span class="st">"iv"</span><span class="op">]</span> <span class="op">*</span> <span class="va">sds</span><span class="op">[</span><span class="st">"mod"</span><span class="op">]</span> <span class="op">/</span> <span class="va">sds</span><span class="op">[</span><span class="st">"dv"</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     iv:mod </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.05018003 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Standardize only the iv, i.e., do not standardized dv and the moderator:</span></span></span>
<span class="r-in"><span><span class="va">stdmod_x</span> <span class="op">&lt;-</span> <span class="fu">stdmod</span><span class="op">(</span><span class="va">lm_raw</span>, x <span class="op">=</span> <span class="va">iv</span>, y <span class="op">=</span> <span class="va">dv</span>, w <span class="op">=</span> <span class="va">mod</span>,</span></span>
<span class="r-in"><span>                   x_rescale <span class="op">=</span> <span class="cn">TRUE</span>,  y_rescale <span class="op">=</span> <span class="cn">FALSE</span>, w_rescale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">stdmod_x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iv:mod </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10.98212 </span>
<span class="r-in"><span><span class="co"># Check against self-computed moderation effect with only iv standardized:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span><span class="op">[</span><span class="st">"iv:mod"</span><span class="op">]</span> <span class="op">*</span> <span class="va">sds</span><span class="op">[</span><span class="st">"iv"</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iv:mod </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10.98212 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">test_x_1_w_1_v_2_n_500</span></span></span>
<span class="r-in"><span><span class="co"># Do regression as usual:</span></span></span>
<span class="r-in"><span><span class="va">lm_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv</span><span class="op">*</span><span class="va">mod</span> <span class="op">+</span> <span class="va">v1</span> <span class="op">+</span> <span class="va">v2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute the standardized moderation effect.</span></span></span>
<span class="r-in"><span><span class="co"># Form its confidence interval by nonparametric bootstrapping.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">85740917</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">stdmod_xyw_boot</span> <span class="op">&lt;-</span> <span class="fu">stdmod_boot</span><span class="op">(</span><span class="va">lm_raw</span>, x <span class="op">=</span> <span class="va">iv</span>, w <span class="op">=</span> <span class="va">mod</span>, y <span class="op">=</span> <span class="va">dv</span>, nboot <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># In real analysis, nboot should be at least 2000.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Print the ci</span></span></span>
<span class="r-in"><span><span class="va">stdmod_xyw_boot</span><span class="op">$</span><span class="va">ci</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.01014322 0.10050906</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Repeat the analysis but keep the results from boot:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">85740917</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">stdmod_xyw_boot</span> <span class="op">&lt;-</span> <span class="fu">stdmod_boot</span><span class="op">(</span><span class="va">lm_raw</span>, x <span class="op">=</span> <span class="va">iv</span>, w <span class="op">=</span> <span class="va">mod</span>, y <span class="op">=</span> <span class="va">dv</span>,</span></span>
<span class="r-in"><span>                                 nboot <span class="op">=</span> <span class="fl">200</span>, full_output <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># In real analysis, nboot should be at least 2000.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Print the 95% percentile confidence interval</span></span></span>
<span class="r-in"><span><span class="va">stdmod_xyw_boot</span><span class="op">$</span><span class="va">ci</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.005379417 0.103307077</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

