<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Compute the conditional effects in a moderated regression model."><title>Conditional Effects — cond_effect • stdmod</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Arimo-0.4.7/font.css" rel="stylesheet"><link href="../deps/Noto_Sans_Mono-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conditional Effects — cond_effect"><meta property="og:description" content="Compute the conditional effects in a moderated regression model."><meta property="og:image" content="https://sfcheung.github.io/stdmod/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">stdmod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/stdmod.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/moderation.html">Standardized Moderation Effect by std_selected()</a>
    <a class="dropdown-item" href="../articles/std_selected.html">Mean Center and Standardize Selected Variable by std_selected()</a>
    <a class="dropdown-item" href="../articles/plotmod.html">Moderation Effects Plots by plotmod()</a>
    <a class="dropdown-item" href="../articles/cond_effect.html">Conditional Effects by cond_effect()</a>
    <a class="dropdown-item" href="../articles/stdmod_lavaan.html">Standardized Moderation Effect in a Path Model by stdmod_lavaan()</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/stdmod/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Conditional Effects</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/stdmod/blob/HEAD/R/condeff.R" class="external-link"><code>R/condeff.R</code></a>, <a href="https://github.com/sfcheung/stdmod/blob/HEAD/R/condeff_boot.R" class="external-link"><code>R/condeff_boot.R</code></a></small>
      <div class="d-none name"><code>cond_effect.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute the conditional effects in a moderated regression model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cond_effect</span><span class="op">(</span></span>
<span>  <span class="va">output</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  w <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  w_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sd"</span>, <span class="st">"percentile"</span><span class="op">)</span>,</span>
<span>  w_percentiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.16</span>, <span class="fl">0.5</span>, <span class="fl">0.84</span><span class="op">)</span>,</span>
<span>  w_sd_to_percentiles <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  w_from_mean_in_sd <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cond_effect_boot</span><span class="op">(</span></span>
<span>  <span class="va">output</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  w <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  conf <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  nboot <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  boot_args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_boot_est <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  full_output <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  do_boot <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>output</dt>
<dd><p>The output from <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code>. It can also accept the output
from
<code><a href="std_selected.html">std_selected()</a></code> or <code><a href="std_selected.html">std_selected_boot()</a></code>.</p></dd>


<dt>x</dt>
<dd><p>The focal variable (independent variable), that is, the
variable with its effect on the outcome variable (dependent)
being moderated. It must be a numeric variable.</p></dd>


<dt>w</dt>
<dd><p>The moderator. Both numeric variables and categorical variables
(character or factor) are supported.</p></dd>


<dt>w_method</dt>
<dd><p>How to define "low", "medium", and "high" for the moderator
levels.
Default is in terms of mean and
standard deviation (SD) of the moderator, <code>"sd"</code>:
"low", "medium", and "high" are one SD below mean,
mean, and one SD above mean, respectively.
If equal to
<code>"percentile"</code>, then percentiles of the moderator in
the
dataset are used: "low", "medium", and "high" are
16th, 50th (median), and 84th percentiles, respectively.
Ignored if <code>w</code> is categorical.</p></dd>


<dt>w_percentiles</dt>
<dd><p>If <code>w_method</code> is <code>"percentile"</code>, then this
argument
specifies the three percentiles to be used,
divided by 100.
It must be a
vector of two numbers. The default is
<code>c(.16, .50, .84)</code>,
the 16th, 50th, and 84th percentiles,
which corresponds approximately
to one SD below and above mean in a
normal distribution, respectively.
Ignored if <code>w</code> is categorical.</p></dd>


<dt>w_sd_to_percentiles</dt>
<dd><p>If <code>w_method</code> is <code>"percentile"</code> and
this argument is
set to a number, this number will be
used to
to determine the percentiles to be used.
The
lower percentile is the percentile in a
normal
distribution
that is <code>w_sd_to_percentiles</code> SD below
the mean.
The upper percentile is the percentile in
a normal
distribution that is <code>w_sd_to_percentiles</code>
SD
above the mean. Therefore, if
<code>w_sd_to_percentiles</code> is set to 1, then the
lower
and upper percentiles are 16th and 84th,
respectively. Default is <code>NA</code>.</p></dd>


<dt>w_from_mean_in_sd</dt>
<dd><p>How many SD from mean is used to define
"low" and
"high" for the moderator. Default is 1.
Ignored if <code>w</code> is categorical.</p></dd>


<dt>...</dt>
<dd><p>Arguments to be passed to <code>cond_effect()</code>.</p></dd>


<dt>conf</dt>
<dd><p>The level of confidence for the confidence interval.
Default is .95, to get 95% confidence intervals.</p></dd>


<dt>nboot</dt>
<dd><p>The number of bootstrap samples. Default is 100.</p></dd>


<dt>boot_args</dt>
<dd><p>A named list of arguments to be passed to <code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot::boot()</a></code>.
Default is <code>NULL</code>.</p></dd>


<dt>save_boot_est</dt>
<dd><p>If <code>TRUE</code>, the default, the bootstrap estimates will
be saved in the element
<code>boot_est</code> of the output.</p></dd>


<dt>full_output</dt>
<dd><p>Whether the full output from <code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot::boot()</a></code> will be
returned.
Default is <code>FALSE</code>. If <code>TRUE</code>, the full output from
<code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot::boot()</a></code> will be saved in the element <code>boot_out</code>
of the output.</p></dd>


<dt>do_boot</dt>
<dd><p>Whether bootstrapping confidence intervals will be formed.
Default is <code>TRUE</code>. If <code>FALSE</code>, all arguments related to
bootstrapping will be ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>cond_effect()</code> returns a data-frame-like object of the conditional effects.
The class is
<code>cond_effect</code> and the print method will print additional information of
the conditional effects. Additional information is stored in the
following attributes:</p><ul><li><p><code>call</code>: The original call.</p></li>
<li><p><code>output</code>: The <code>output</code> object, such as the output from <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>.</p></li>
<li><p><code>x</code>, <code>y</code>, and <code>w</code>: The three variables used to compute the conditional
effects: focal variable (<code>x</code>), outcome variable (<code>y</code>),
and the moderator (<code>w</code>).</p></li>
<li><p><code>w_method</code>: The method used to determine the values of the moderator
at the selected levels.</p></li>
<li><p><code>w_percentiles</code> The percentiles to use if <code>w_method</code> = <code>"percentile"</code>.</p></li>
<li><p><code>w_sd_to_percentiles</code>: If not equal to <code>NA</code>, this is a scalar, the
number of standard deviation from the mean used to
determine the percentiles for the "low" and "high"
levels of the moderator.</p></li>
<li><p><code>w_from_mean_in_sd</code>: The number of SD above or below the mean, for
determining the "low" and "high" levels of the
moderator if <code>w_method</code> is <code>"sd"</code>.</p></li>
<li><p><code>w_empirical_percentiles</code>: The actual percentile levels in the dataset
for the selected
levels of the moderator. A numeric vector.</p></li>
<li><p><code>w_empirical_z</code>: The actual distance from the mean, in SD, of each
selected level of the moderator. A numeric vector.</p></li>
<li><p><code>y_standardized</code>, <code>x_standardized</code>, and <code>w_standardized</code>: Each of them
is a logical scalar, indicating whether the outcome
variable, focal variable, and moderator are standardized.</p></li>
</ul><p><code>cond_effect_boot()</code> also returns a data-frame-like object of the
conditional effects of the class
<code>cond_effect</code>, with additional information from the bootstrapping stored
in these attributes:</p><ul><li><p><code>boot_ci</code>: A data frame of the bootstrap confidence intervals of the
conditional effects.</p></li>
<li><p><code>nboot</code>: The number of bootstrap samples requested.</p></li>
<li><p><code>conf</code>: The level of confidence, in proportion.</p></li>
<li><p><code>boot_est</code>: A matrix of the bootstrap estimates of the conditional effects.
The number of rows equal to <code>nboot</code>, and the number of columns
equal to the number of levels of the moderator.</p></li>
<li><p><code>cond_effect_boot_call</code>: The call to <code>cond_effect_boot()</code>.</p></li>
<li><p><code>boot_out</code>: If available, the original output from <code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot::boot()</a></code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>cond_effect()</code> uses the centering approach to find the conditional
effect of the focal variable. For each level of the moderator, the value for
this level is subtracted from the moderator scores, and the model is
fitted to the modified data.
The coefficient of the focal variable is then the conditional effect of the
focal variable when the moderator's score is equal this value.</p>
<p><code>cond_effect_boot()</code> function is a wrapper of <code>cond_effect()</code>.
It calls <code>cond_effect()</code>
once for each bootstrap sample, and then computes the nonparametric
bootstrap percentile confidence intervals (Cheung, Cheung, Lau, Hui,
&amp; Vong, 2022). If the output object is the output of <code><a href="std_selected.html">std_selected()</a></code>
or <code><a href="std_selected.html">std_selected_boot()</a></code>, in which mean-centering and/or standardization
have been conducted, they will be repeated in each bootstrap sample.
Therefore, like <code><a href="std_selected.html">std_selected_boot()</a></code>, it can be used for form
nonparametric bootstrap confidence intervals for standardized
effects, though <code>cond_effect_boot()</code> does this for the standardized
conditional effects.</p>
<p>This function ignores bootstrapping done by <code><a href="std_selected.html">std_selected_boot()</a></code>. It will
do its own bootstrapping.</p>
<p>If <code>do_boot</code> is <code>FALSE</code>, then the object it returns is identical to that
by <code>cond_effect()</code>.</p>
<p>This function intentionally does not have an argument for setting the seed
for
random number. Users are recommended to set the seed, e.g., using
<code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>
before calling it, to ensure reproducibility.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>cond_effect_boot()</code>: A wrapper of <code>cond_effect()</code> that forms
nonparametric bootstrap confidence intervals.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448" class="external-link">https://orcid.org/0000-0002-9871-9448</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load a sample data set</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">test_x_1_w_1_v_1_cat1_n_500</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Do a moderated regression by lm</span></span></span>
<span class="r-in"><span><span class="va">lm_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv</span><span class="op">*</span><span class="va">mod</span> <span class="op">+</span> <span class="va">v1</span> <span class="op">+</span> <span class="va">cat1</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lm(formula = dv ~ iv * mod + v1 + cat1, data = dat)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Min      1Q  Median      3Q     Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -2146.0  -431.9   -25.0   411.2  2309.3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error t value Pr(&gt;|t|)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  308.767   4075.066   0.076   0.9396  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv            52.760    271.242   0.195   0.8459  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mod            5.127     40.772   0.126   0.9000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> v1           -12.760     10.174  -1.254   0.2104  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp2     -158.673     71.834  -2.209   0.0276 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp3      -43.166     75.283  -0.573   0.5666  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:mod         3.416      2.709   1.261   0.2080  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 665 on 493 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple R-squared:  0.6352,	Adjusted R-squared:  0.6307 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-statistic:   143 on 6 and 493 DF,  p-value: &lt; 2.2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">cond_effect</span><span class="op">(</span><span class="va">lm_raw</span>, x <span class="op">=</span> <span class="va">iv</span>, w <span class="op">=</span> <span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The effects of iv on dv, conditional on mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level     mod iv Effect   S.E.      t     p Sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High 105.436   412.911 20.827 19.826 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium 100.395   395.693 14.684 26.948 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low  95.354   378.474 19.249 19.662 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The regression model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	dv ~ iv * mod + v1 + cat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Interpreting the levels of mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level     mod % Below From Mean (in SD)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High 105.436   84.00              1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium 100.395   47.40              0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low  95.354   17.20             -1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - % Below: The percent of cases equal to or less than a level.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - From Mean (in SD): Distance of a level from the mean, in standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   deviation (+ve above, -ve below).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lm_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_standardize <span class="op">=</span> <span class="op">~</span> <span class="va">iv</span> <span class="op">+</span> <span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cond_effect</span><span class="op">(</span><span class="va">lm_std</span>, x <span class="op">=</span> <span class="va">iv</span>, w <span class="op">=</span> <span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The effects of iv on dv, conditional on mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level    mod iv Effect   S.E.      t     p Sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High  1.000   841.990 42.468 19.826 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium  0.000   806.878 29.942 26.948 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low -1.000   771.767 39.251 19.662 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The regression model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	dv ~ iv * mod + v1 + cat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Interpreting the levels of mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level    mod % Below From Mean (in SD)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High  1.000   84.00              1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium  0.000   47.40              0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low -1.000   17.20             -1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - % Below: The percent of cases equal to or less than a level.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - From Mean (in SD): Distance of a level from the mean, in standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   deviation (+ve above, -ve below).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The variable(s) iv, mod is/are standardized.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - One or more variables are scaled by SD or standardized. OLS standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   errors and confidence intervals may be biased for their coefficients.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Please use `cond_effect_boot()`.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Categorical moderator</span></span></span>
<span class="r-in"><span><span class="va">lm_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv</span><span class="op">*</span><span class="va">cat1</span> <span class="op">+</span> <span class="va">v1</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_cat</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lm(formula = dv ~ iv * cat1 + v1, data = dat)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Min       1Q   Median       3Q      Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -2457.67  -506.03     3.46   437.95  2738.18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)   979.20     459.19   2.132   0.0335 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv            391.03      29.25  13.370   &lt;2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp2      -845.49     584.85  -1.446   0.1489    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp3       259.55     620.76   0.418   0.6760    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> v1            -19.36      11.00  -1.759   0.0791 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:cat1gp2     43.28      38.44   1.126   0.2608    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:cat1gp3    -21.22      41.08  -0.516   0.6058    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 721.3 on 493 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple R-squared:  0.5707,	Adjusted R-squared:  0.5655 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-statistic: 109.2 on 6 and 493 DF,  p-value: &lt; 2.2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">cond_effect</span><span class="op">(</span><span class="va">lm_cat</span>, x <span class="op">=</span> <span class="va">iv</span>, w <span class="op">=</span> <span class="va">cat1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The effects of iv on dv, conditional on cat1:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Level cat1 iv Effect   S.E.      t     p Sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gp1  gp1   391.026 29.246 13.370 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gp2  gp2   434.302 24.937 17.416 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gp3  gp3   369.807 28.858 12.815 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The regression model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	dv ~ iv * cat1 + v1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load a sample data set</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">test_x_1_w_1_v_1_cat1_n_500</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Do a moderated regression by lm</span></span></span>
<span class="r-in"><span><span class="va">lm_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv</span><span class="op">*</span><span class="va">mod</span> <span class="op">+</span> <span class="va">v1</span> <span class="op">+</span> <span class="va">cat1</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_raw</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lm(formula = dv ~ iv * mod + v1 + cat1, data = dat)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Min      1Q  Median      3Q     Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -2146.0  -431.9   -25.0   411.2  2309.3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error t value Pr(&gt;|t|)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  308.767   4075.066   0.076   0.9396  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv            52.760    271.242   0.195   0.8459  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mod            5.127     40.772   0.126   0.9000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> v1           -12.760     10.174  -1.254   0.2104  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp2     -158.673     71.834  -2.209   0.0276 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp3      -43.166     75.283  -0.573   0.5666  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:mod         3.416      2.709   1.261   0.2080  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 665 on 493 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple R-squared:  0.6352,	Adjusted R-squared:  0.6307 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-statistic:   143 on 6 and 493 DF,  p-value: &lt; 2.2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lm_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="std_selected.html">std_selected</a></span><span class="op">(</span><span class="va">lm_raw</span>, to_standardize <span class="op">=</span> <span class="op">~</span> <span class="va">iv</span> <span class="op">+</span> <span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cond_effect</span><span class="op">(</span><span class="va">lm_std</span>, x <span class="op">=</span> <span class="va">iv</span>, w <span class="op">=</span> <span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The effects of iv on dv, conditional on mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level    mod iv Effect   S.E.      t     p Sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High  1.000   841.990 42.468 19.826 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium  0.000   806.878 29.942 26.948 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low -1.000   771.767 39.251 19.662 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The regression model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	dv ~ iv * mod + v1 + cat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Interpreting the levels of mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level    mod % Below From Mean (in SD)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High  1.000   84.00              1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium  0.000   47.40              0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low -1.000   17.20             -1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - % Below: The percent of cases equal to or less than a level.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - From Mean (in SD): Distance of a level from the mean, in standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   deviation (+ve above, -ve below).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The variable(s) iv, mod is/are standardized.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - One or more variables are scaled by SD or standardized. OLS standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   errors and confidence intervals may be biased for their coefficients.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Please use `cond_effect_boot()`.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Form nonparametric bootstrap confidence intervals</span></span></span>
<span class="r-in"><span><span class="co"># Use 2000 or even 5000 for nboot in real research</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">cond_effect_boot</span><span class="op">(</span><span class="va">lm_std</span>, x <span class="op">=</span> <span class="va">iv</span>, w <span class="op">=</span> <span class="va">mod</span>, nboot <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The effects of iv on dv, conditional on mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level    mod iv Effect CI Lower CI Upper   S.E.      t     p Sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High  1.000   841.990  711.421  936.506 42.468 19.826 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium  0.000   806.878  719.760  853.780 29.942 26.948 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low -1.000   771.767  699.401  838.323 39.251 19.662 0.000 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [CI Lower, CI Upper] shows the 95% nonparametric bootstrap confidence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval(s) (based on 50 bootstrap samples).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The regression model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	dv ~ iv * mod + v1 + cat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Interpreting the levels of mod:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Level    mod % Below From Mean (in SD)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    High  1.000   84.00              1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Medium  0.000   47.40              0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Low -1.000   17.20             -1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - % Below: The percent of cases equal to or less than a level.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - From Mean (in SD): Distance of a level from the mean, in standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   deviation (+ve above, -ve below).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The variable(s) iv, mod is/are standardized.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

